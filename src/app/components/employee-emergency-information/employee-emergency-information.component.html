<div class="container">
  <div class="align-items-center">
    <form>
      <div class="col-md-4">
        <div class="form-group">
          <label for="employeeId">Çalışan</label>
          <ng-select
            id="employeeId"
            notFoundText="Kaynak bulunamadı"
            name="employeeId"
            placeholder="Seçiniz"
            [(ngModel)]="employeeEmergencyInformation.employeeId"
          >
            <ng-option *ngFor="let employee of employees" [value]="employee.id"
              >{{ employee.firstName | titlecase }}
              {{ employee.lastName | titlecase }}</ng-option
            >
          </ng-select>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="degree">Yakınlık Derecesi</label>
          <ng-select
            id="degree"
            notFoundText="Kaynak bulunamadı"
            name="degree"
            placeholder="Seçiniz"
            [(ngModel)]="employeeEmergencyInformation.degree"
          >
            <ng-option
              *ngFor="let familyMember of familyMembers"
              [value]="familyMember.member"
              >{{ familyMember.member }}
            </ng-option>
          </ng-select>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="firstName">Adı</label>
          <input
            type="text"
            name="firstName"
            id="firstName"
            class="form-control"
            autocomplete="off"
            [(ngModel)]="employeeEmergencyInformation.firstName"
          />
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="lastName">Soyadı</label>
          <input
            type="text"
            name="lastName"
            id="lastName"
            class="form-control"
            autocomplete="off"
            [(ngModel)]="employeeEmergencyInformation.lastName"
          />
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="phoneNumber"
            ><i class="bi bi-telephone-fill"></i>Telefon Numarası</label
          >
          <input
            type="text"
            name="phoneNumber"
            id="phoneNumber"
            class="form-control"
            autocomplete="off"
            [(ngModel)]="employeeEmergencyInformation.phoneNumber"
          />
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label for="priorityValue">Öncelik Derecesi</label>
          <ng-select
            type="number"
            id="priorityValue"
            name="priorityValue"
            notFoundText="Kaynak bulunamadı"
            placeholder="Seçiniz"
            [(ngModel)]="employeeEmergencyInformation.priorityValue"
          >
            <ng-option [value]="1">1</ng-option>
            <ng-option [value]="2">2</ng-option>
            <ng-option [value]="3">3</ng-option>
            <ng-option [value]="4">4</ng-option>
            <ng-option [value]="5">5</ng-option>
          </ng-select>
        </div>
      </div>
      <br />
      <div>
        <button
          type="button"
          class="btn btn-success"
          [disabled]="checkValidate()"
          (click)="save()"
        >
          Kaydet
        </button>
        <button type="button" class="btn btn-warning" (click)="clear()">
          Temizle
        </button>
      </div>
    </form>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Çalışan Id</th>
          <th scope="col">Yakınlık Derecesi</th>
          <th scope="col">Adı</th>
          <th scope="col">Soyadı</th>
          <th scope="col">Telefon Numarası</th>
          <th scope="col">Öncelik Değeri</th>
          <th scope="col">İşlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="
            let employeeEmergencyInformation of employeeEmergencyInformations
          "
        >
          <td>{{ employeeEmergencyInformation.id }}</td>
          <td>{{ employeeEmergencyInformation.employeeId }}</td>
          <td>
            {{ employeeEmergencyInformation.degree | titlecase }}
          </td>
          <td>{{ employeeEmergencyInformation.firstName | titlecase }}</td>
          <td>{{ employeeEmergencyInformation.lastName | titlecase }}</td>
          <td>{{ employeeEmergencyInformation.phoneNumber }}</td>
          <td>{{ employeeEmergencyInformation.priorityValue }}</td>
          <td>
            <div class="btn-group" role="group" aria-label="Basic example">
              <button
                class="btn btn-danger"
                type="button"
                (click)="delete(employeeEmergencyInformation)"
              >
                <i class="bi bi-trash3"></i>
              </button>
              <button
                type="button"
                class="btn btn-info"
                (click)="
                  getEmployeeEmergencyInformation(
                    employeeEmergencyInformation.id
                  )
                "
              >
                <i class="bi bi-pencil"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
